<!DOCTYPE html>
<html>
<head>
	<title></title>

	<style type="text/css">
		.header,.footer{
    position:absolute;
    left:0;
    right:0;
    height:50px;
    z-index:999;
    background-color:#333;
}
.header{
    top:0;
}
.footer{
    bottom:0
}
.main{
    position:absolute;
    left:0;
    top:50px;
    right:0;
    bottom:50px;
    overflow-y:auto;
    -webkit-overflow-scrolling:touch; 
}
.content{
    height:2000px;
} 
	</style>
</head>
<body>


<div class="header"></div>
<div class="main" id="main">
    <div class="content"></div>
</div>
<div class="footer">
    <input type="text" />
</div>


<script type="text/javascript">
	function moveAdjustment(domId){

    document.documentElement.ontouchmove=function(e){
            e.preventDefault();
    };

    var wrap=document.getElementById(domId);

    wrap.addEventListener('touchstart',function(e){

            var startPoint=e.touches[0].clientY;

            wrap.ontouchmove=function(e){

                var movePoint=e.touches[0].clientY;

                var nowScroll=wrap.scrollTop;

                var wholeScroll=wrap.scrollHeight-wrap.clientHeight;
                //注意，这里的对象不能是e.target，因为禁止冒泡之后这个e就没用了。

                if(nowScroll==0){

                    if(startPoint<movePoint){

                        e.preventDefault();

                    }else{

                        e.stopPropagation();

                    };

                }else if(nowScroll==wholeScroll){

                    if(startPoint>movePoint){

                        e.preventDefault();

                    }else{

                        e.stopPropagation();

                    }

                }else if(nowScroll>0 && nowScroll<wholeScroll){

                    e.stopPropagation();

                }else{

                    e.preventDefault();

                };

            };

    },false);
};

moveAdjustment('main'); 
</script>
</body>
</html>
