
<!DOCTYPE html>
<html>
<head>
<title>Zero Clipboard Test</title>
<meta charset="utf-8">
</head>
<body>
<div class="code-box">
	<table>
		<tr>
			<td id="codeNum">AE86123456</td>
			<td>
			    <textarea id="input"></textarea> 
			    <button class="btn_copy" id="codeBtn" data-clipboard-target="#input">复制邀请码</button>
			</td>
		</tr>
	</table>
</div>
	
	
	
	
</body>
</html>


<script type="text/javascript" src="//1718d.com/resources/js/lib/jquery-3.1.1.min.js"></script>
<script type="text/javascript" src="./clipboard.min.js"></script>
<script type="text/javascript">
$(".btn_copy").click(function(){
//       let e = document.getElementById("codeNum").innerText;
	var e = $(this).parent().prev().text();
	console.log(e)
      let t = document.getElementById("input");
      t.value = e;
      //实例化clipboard
      var clipboard = new ClipboardJS('#codeBtn');
      clipboard.on("success", function(e){
        $(".alertMsg").html("复制成功！");
        $(".modal-bg").css("display", "block");
        e.clearSelection();
      });
      clipboard.on("error", function(e){
        $(".alertMsg").html("请选择“拷贝”进行复制!");
        $(".modal-bg").css("display", "block");
      });
    });
</script>
